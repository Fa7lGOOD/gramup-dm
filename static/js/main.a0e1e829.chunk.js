(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},23:function(e,t,n){e.exports=n(36)},29:function(e,t,n){},31:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(18),i=n.n(s),o=(n(29),n(1)),c=n.n(o),u=n(7),d=n(3),l=n(19),h=n(6),p=n(2),m=n(5),b=n(20),g=n.n(b),f=(n(31),n(12)),_=n(22),w=n(9),v=n(10),j=n(21),k=n(13),x=window.chrome,O=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(d.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,r))).status=e,n.message="InstagramError ".concat(e,": ").concat(r),n}return Object(m.a)(t,e),t}(Object(v.a)(Error)),y=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),t}(Object(v.a)(Error)),E=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),t}(Object(v.a)(Error)),S=new function e(){var t=this;Object(d.a)(this,e),this._currend_id="",this._instaweb_dev_id="jfeioppjmfoialcnpnecpgdajnionodc",this._instaweb_id="njonkbhnmmjgancfbncekpgkmidhbbpo",this.isStopped=!1,this.isConnected=!1,this._check_working_id=function(){return new Promise(function(e,n){setTimeout(function(){return n(new E("Cant find any working extension"))},500),x.runtime.sendMessage(t._instaweb_id,{method:"ping"},null,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.status,a=n.pong;return"ok"===r&&a&&e(t._instaweb_id)}),x.runtime.sendMessage(t._instaweb_dev_id,{method:"ping"},null,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.status,a=n.pong;return"ok"===r&&a&&e(t._instaweb_dev_id)})})},this.init=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t._check_working_id();case 3:t._currend_id=e.sent,t.isConnected=!0,e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(0),!(e.t0 instanceof y)){e.next=12;break}return t.isConnected=!1,e.abrupt("return");case 12:throw e.t0;case 13:case"end":return e.stop()}},e,null,[[0,7]])})),this.start=function(){return t.isStopped=!1},this.kill=function(){return t.isStopped=!0},this.request=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(r,a){var s=!t.isStopped;return n&&!s&&t.start(),t.isStopped?a(new Error("Request was killed")):t.isConnected?(setTimeout(function(){return a(new y("Request timeout"))},1e4),console.log("send_message",t._currend_id,e),x.runtime.sendMessage(t._currend_id,e,null,function(t){if(!t)return a(new E);var n=t.status,s=t.error;console.log("request",e.method,"->",n,t),"ok"!==n?a(new O(n,s)):r(t)}),void(n&&!s&&t.kill())):a(new E)})},this.request_generator=function(){var e=Object(k.a)(c.a.mark(function e(t){var n,r,a,s,i,o,u,d=arguments;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.method,r=t.params,a=d.length>1&&void 0!==d[1]?d[1]:1/0,s=[],i=this.page_generator({method:n,params:r});case 4:return o=i.next(),u=o.users,console.log("users",u),s=[].concat(Object(w.a)(s),Object(w.a)(u)),e.next=9,u;case 9:if(e.sent,!(s.length>a)){e.next=12;break}return e.abrupt("return",s);case 12:e.next=4;break;case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),this.page_generator=function(){var e=Object(k.a)(c.a.mark(function e(t){var n,r,a,s,i,o,u,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.method,r=t.params,a=r;case 2:return s={method:n,params:a},e.next=5,Object(j.a)(this.request(s));case 5:return i=e.sent,o=i.big_list,u=i.next_max_id,d=Object(_.a)(i,["big_list","next_max_id"]),console.log("big_list",o,"next_max_id",u),e.next=12,d;case 12:if(!e.sent&&u){e.next=15;break}return e.abrupt("return");case 15:a=[].concat(Object(w.a)(r),[u]);case 16:e.next=2;break;case 17:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},q=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={chats:[],messages:[]},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t,n,r,a,s,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.instagram=S,e.next=3,S.init();case 3:return e.next=5,S.request({method:"get_inbox",params:[]},!0);case 5:return t=e.sent,n=t.inbox.threads,console.log("threads",n),r=n[0],e.next=11,S.request({method:"get_thread",params:[r.thread_id]},!0);case 11:a=e.sent,s=a.thread.items,console.log("messages",s),i=s.map(function(e){return new f.Message({id:e.item_id,message:e.text||e.item_type})}),this.setState({chats:n,messages:i});case 16:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("img",{src:g.a,className:"App-logo",alt:"logo"}),a.a.createElement("p",null,"Edit ",a.a.createElement("code",null,"src/App.js")," and save to reload."),a.a.createElement("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"},"Learn React")),a.a.createElement(f.ChatFeed,{messages:this.state.messages,isTyping:this.state.is_typing,hasInputField:!1,showSenderName:!0,bubblesCentered:!1,bubbleStyles:{text:{fontSize:30},chatbubble:{borderRadius:70,padding:40}}}))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.a0e1e829.chunk.js.map